/*! For license information please see 8.3b822a85.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkadvanced_react_hooks=self.webpackChunkadvanced_react_hooks||[]).push([[8],{8008:function(e,n,r){r.r(n);var t=r(9439),o=r(4519),a=r(3344),s=r(2556);function i(e,n){switch(n.type){case"pending":return{status:"pending",pokemon:null,error:null};case"resolved":return{status:"resolved",pokemon:n.pokemon,error:null};case"rejected":return{status:"rejected",pokemon:null,error:n.error};default:throw new Error("Unhandled action type: ".concat(n.type))}}function c(e){var n=e.pokemonName,r=o.useReducer(i,{status:n?"pending":"idle",pokemon:null,error:null}),c=(0,t.Z)(r,2),u=c[0],l=c[1];o.useEffect((function(){n&&(l({type:"pending"}),(0,a.kW)(n).then((function(e){l({type:"resolved",pokemon:e})}),(function(e){l({type:"rejected",error:e})})))}),[n]);var m=u.pokemon,p=u.status,d=u.error;switch(p){case"idle":return(0,s.jsx)("span",{children:"Submit a pokemon"});case"pending":return(0,s.jsx)(a.Uh,{name:n});case"rejected":throw d;case"resolved":return(0,s.jsx)(a.nV,{pokemon:m});default:throw new Error("This should be impossible")}}function u(){var e=o.useState(""),n=(0,t.Z)(e,2),r=n[0],i=n[1];return(0,s.jsxs)("div",{className:"pokemon-info-app",children:[(0,s.jsx)(a.AS,{pokemonName:r,onSubmit:function(e){i(e)}}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:"pokemon-info",children:(0,s.jsx)(a.kG,{onReset:function(){i("")},resetKeys:[r],children:(0,s.jsx)(c,{pokemonName:r})})})]})}n.default=function(){var e=o.useState(!0),n=(0,t.Z)(e,2),r=n[0],a=n[1];return(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){return a(e.target.checked)}})," ","Mount Component"]}),(0,s.jsx)("hr",{}),r?(0,s.jsx)(u,{}):null]})}},3344:function(e,n,r){r.d(n,{AS:function(){return f},Uh:function(){return p},kG:function(){return k},kW:function(){return m},nV:function(){return d}});var t=r(1413),o=r(9439),a=r(4165),s=r(5861),i=r(4519),c=r(3694),u=r(2556),l=function(e){return"".concat(e.getHours(),":").concat(String(e.getMinutes()).padStart(2,"0")," ").concat(String(e.getSeconds()).padStart(2,"0"),".").concat(String(e.getMilliseconds()).padStart(3,"0"))};function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,r="\n    query PokemonInfo($name: String) {\n      pokemon(name: $name) {\n        id\n        number\n        name\n        image\n        attacks {\n          special {\n            name\n            type\n            damage\n          }\n        }\n      }\n    }\n  ";return window.fetch("https://graphql-pokemon2.vercel.app/",{method:"POST",headers:{"content-type":"application/json;charset=UTF-8",delay:n},body:JSON.stringify({query:r,variables:{name:e.toLowerCase()}})}).then(function(){var n=(0,s.Z)((0,a.Z)().mark((function n(r){var t,o,s,i,c;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.json();case 2:if(t=n.sent,o=t.data,!r.ok){n.next=14;break}if(!(s=null===o||void 0===o?void 0:o.pokemon)){n.next=11;break}return s.fetchedAt=l(new Date),n.abrupt("return",s);case 11:return n.abrupt("return",Promise.reject(new Error('No pokemon with the name "'.concat(e,'"'))));case 12:n.next=16;break;case 14:return c={message:null===o||void 0===o||null===(i=o.errors)||void 0===i?void 0:i.map((function(e){return e.message})).join("\n")},n.abrupt("return",Promise.reject(c));case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}function p(e){var n=e.name,r={name:i.useRef(n).current,number:"XXX",image:"/img/pokemon/fallback-pokemon.jpg",attacks:{special:[{name:"Loading Attack 1",type:"Type",damage:"XX"},{name:"Loading Attack 2",type:"Type",damage:"XX"}]},fetchedAt:"loading..."};return(0,u.jsx)(d,{pokemon:r})}function d(e){var n=e.pokemon;return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"pokemon-info__img-wrapper",children:(0,u.jsx)("img",{src:n.image,alt:n.name})}),(0,u.jsx)("section",{children:(0,u.jsxs)("h2",{children:[n.name,(0,u.jsx)("sup",{children:n.number})]})}),(0,u.jsx)("section",{children:(0,u.jsx)("ul",{children:n.attacks.special.map((function(e){return(0,u.jsxs)("li",{children:[(0,u.jsx)("label",{children:e.name}),":"," ",(0,u.jsxs)("span",{children:[e.damage," ",(0,u.jsxs)("small",{children:["(",e.type,")"]})]})]},e.name)}))})}),(0,u.jsx)("small",{className:"pokemon-info__fetch-time",children:n.fetchedAt})]})}function f(e){var n=e.pokemonName,r=e.initialPokemonName,t=void 0===r?n||"":r,a=e.onSubmit,s=i.useState(t),c=(0,o.Z)(s,2),l=c[0],m=c[1];function p(e){m(e),a(e)}return i.useEffect((function(){"string"===typeof n&&m(n)}),[n]),(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(l)},className:"pokemon-form",children:[(0,u.jsx)("label",{htmlFor:"pokemonName-input",children:"Pokemon Name"}),(0,u.jsxs)("small",{children:["Try"," ",(0,u.jsx)("button",{className:"invisible-button",type:"button",onClick:function(){return p("pikachu")},children:'"pikachu"'}),", ",(0,u.jsx)("button",{className:"invisible-button",type:"button",onClick:function(){return p("charizard")},children:'"charizard"'}),", or ",(0,u.jsx)("button",{className:"invisible-button",type:"button",onClick:function(){return p("mew")},children:'"mew"'})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{className:"pokemonName-input",id:"pokemonName-input",name:"pokemonName",placeholder:"Pokemon Name...",value:l,onChange:function(e){m(e.target.value)}}),(0,u.jsx)("button",{type:"submit",disabled:!l.length,children:"Submit"})]})]})}function h(e){var n=e.error,r=e.resetErrorBoundary;return(0,u.jsxs)("div",{role:"alert",children:["There was an error:"," ",(0,u.jsx)("pre",{style:{whiteSpace:"normal"},children:n.message}),(0,u.jsx)("button",{onClick:r,children:"Try again"})]})}function k(e){return(0,u.jsx)(c.ErrorBoundary,(0,t.Z)({FallbackComponent:h},e))}},3238:function(e,n,r){var t=r(4519),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,r){var t,a={},u=null,l=null;for(t in void 0!==r&&(u=""+r),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(l=n.ref),n)s.call(n,t)&&!c.hasOwnProperty(t)&&(a[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===a[t]&&(a[t]=n[t]);return{$$typeof:o,type:e,key:u,ref:l,props:a,_owner:i.current}}n.Fragment=a,n.jsx=u,n.jsxs=u},2556:function(e,n,r){e.exports=r(3238)}}]);
//# sourceMappingURL=8.3b822a85.chunk.js.map