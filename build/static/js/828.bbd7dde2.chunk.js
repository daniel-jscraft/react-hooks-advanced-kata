/*! For license information please see 828.bbd7dde2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkadvanced_react_hooks=self.webpackChunkadvanced_react_hooks||[]).push([[828],{4759:function(e,n,s){s.r(n);var a=s(2556);function t(e){const n=Object.assign({h1:"h1",h2:"h2",p:"p",code:"code",pre:"pre",span:"span",ol:"ol",li:"li",ul:"ul",a:"a",h3:"h3",em:"em",blockquote:"blockquote"},e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{children:"useReducer: simple Counter"}),"\n",(0,a.jsx)(n.h2,{children:"\ud83d\udcdd Your Notes"}),"\n",(0,a.jsxs)(n.p,{children:["Elaborate on your learnings here in ",(0,a.jsx)(n.code,{children:"src/exercise/01.md"})]}),"\n",(0,a.jsx)(n.h2,{children:"Background"}),"\n",(0,a.jsxs)(n.p,{children:["React's ",(0,a.jsx)(n.code,{children:"useState"})," hook can get you a really long way with React state\nmanagement. That said, sometimes you want to separate the state logic from the\ncomponents that make the state changes. In addition, if you have multiple\nelements of state that typically change together, then having an object that\ncontains those elements of state can be quite helpful."]}),"\n",(0,a.jsxs)(n.p,{children:["This is where ",(0,a.jsx)(n.code,{children:"useReducer"})," comes in really handy. If you're familiar with redux,\nthen you'll feel pretty comfortable here. If not, then you have less to unlearn\n\ud83d\ude09"]}),"\n",(0,a.jsxs)(n.p,{children:["This exercise will take you pretty deep into ",(0,a.jsx)(n.code,{children:"useReducer"}),". Typically, you'll use\n",(0,a.jsx)(n.code,{children:"useReducer"})," with an object of state, but we're going to start by managing a\nsingle number (a ",(0,a.jsx)(n.code,{children:"count"}),"). We're doing this to ease you into ",(0,a.jsx)(n.code,{children:"useReducer"})," and\nhelp you learn the difference between the convention and the actual API."]}),"\n",(0,a.jsxs)(n.p,{children:["Here's an example of using ",(0,a.jsx)(n.code,{children:"useReducer"})," to manage the value of a name in an\ninput."]}),"\n",(0,a.jsx)(n.pre,{className:"language-javascript",children:(0,a.jsxs)(n.code,{className:"language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsx)(n.span,{className:"token function",children:"nameReducer"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsxs)(n.span,{className:"token parameter",children:["previousName",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," newName"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword control-flow",children:"return"})," newName\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," initialNameValue ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token string",children:"'Joe'"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsx)(n.span,{className:"token function",children:(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"NameInput"})}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),"name",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," setName",(0,a.jsx)(n.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"React"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token method function property-access",children:"useReducer"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"nameReducer",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," initialNameValue",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"handleChange"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token parameter",children:"event"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token function",children:"setName"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"event",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token property-access",children:"target"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token property-access",children:"value"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword control-flow",children:"return"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"\n    ",(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),"\n      ",(0,a.jsx)(n.span,{className:"token operator",children:"<"}),"label",(0,a.jsx)(n.span,{className:"token operator",children:">"}),"\n        ",(0,a.jsx)(n.span,{className:"token literal-property property",children:"Name"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"<"}),"input defaultValue",(0,a.jsx)(n.span,{className:"token operator",children:"="}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"name",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," onChange",(0,a.jsx)(n.span,{className:"token operator",children:"="}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"handleChange",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"/"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),"\n      ",(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token operator",children:"/"}),"label",(0,a.jsx)(n.span,{className:"token operator",children:">"}),"\n      ",(0,a.jsx)(n.span,{className:"token operator",children:"<"}),"div",(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"You"})," typed",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"name",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token operator",children:"/"}),"div",(0,a.jsx)(n.span,{className:"token operator",children:">"}),"\n    ",(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token operator",children:"/"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,a.jsxs)(n.p,{children:["One important thing to note here is that the reducer (called ",(0,a.jsx)(n.code,{children:"nameReducer"}),"\nabove) is called with two arguments:"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"the current state"}),"\n",(0,a.jsxs)(n.li,{children:["whatever it is that the dispatch function (called ",(0,a.jsx)(n.code,{children:"setName"}),' above) is called\nwith. This is often called an "action."']}),"\n"]}),"\n",(0,a.jsx)(n.h2,{children:"Exercise"}),"\n",(0,a.jsx)(n.p,{children:"Production deploys:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://advanced-react-hooks.netlify.com/isolated/exercise/01.js",children:"Exercise"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://advanced-react-hooks.netlify.com/isolated/final/01.js",children:"Final"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["We're going to start off as simple as possible with a ",(0,a.jsx)(n.code,{children:"<Counter />"})," component.\n",(0,a.jsx)(n.code,{children:"useReducer"})," is absolutely overkill for a counter component like ours, but for\nnow, just focus on making things work with ",(0,a.jsx)(n.code,{children:"useReducer"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["\ud83d\udcdc Here are two really helpful blog posts comparing ",(0,a.jsx)(n.code,{children:"useState"})," and ",(0,a.jsx)(n.code,{children:"useReducer"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://kentcdodds.com/blog/should-i-usestate-or-usereducer",children:"Should I useState or useReducer?"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://kentcdodds.com/blog/how-to-implement-usestate-with-usereducer",children:"How to implement useState with useReducer"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{children:"Extra Credit"}),"\n",(0,a.jsx)(n.h3,{children:"1. \ud83d\udcaf accept the step as the action"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://advanced-react-hooks.netlify.com/isolated/final/01.extra-1.js",children:"Production deploy"})}),"\n",(0,a.jsx)(n.p,{children:"I want to change things a bit to have this API:"}),"\n",(0,a.jsx)(n.pre,{className:"language-javascript",children:(0,a.jsxs)(n.code,{className:"language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),"count",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," changeCount",(0,a.jsx)(n.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"React"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token method function property-access",children:"useReducer"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"countReducer",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," initialCount",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"increment"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token function",children:"changeCount"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"step",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})}),"\n",(0,a.jsx)(n.p,{children:"How would you need to change your reducer to make this work?"}),"\n",(0,a.jsx)(n.p,{children:"This one is just to show that you can pass anything as the action."}),"\n",(0,a.jsx)(n.h3,{children:"2. \ud83d\udcaf simulate setState with an object"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://advanced-react-hooks.netlify.com/isolated/final/01.extra-2.js",children:"Production deploy"})}),"\n",(0,a.jsxs)(n.p,{children:["Remember ",(0,a.jsx)(n.code,{children:"this.setState"})," from class components? If not, lucky you \ud83d\ude09. Either\nway, let's see if you can figure out how to make the state updater (",(0,a.jsx)(n.code,{children:"dispatch"}),"\nfunction) behave in a similar way by changing our ",(0,a.jsx)(n.code,{children:"state"})," to an object\n(",(0,a.jsx)(n.code,{children:"{count: 0}"}),") and then calling the state updater with an object which merges\nwith the current state."]}),"\n",(0,a.jsx)(n.p,{children:"So here's how I want things to look now:"}),"\n",(0,a.jsx)(n.pre,{className:"language-javascript",children:(0,a.jsxs)(n.code,{className:"language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),"state",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," setState",(0,a.jsx)(n.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"React"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token method function property-access",children:"useReducer"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"countReducer",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token literal-property property",children:"count"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," initialCount",(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"count",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," state\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"increment"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token function",children:"setState"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token literal-property property",children:"count"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," count ",(0,a.jsx)(n.span,{className:"token operator",children:"+"})," step",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})}),"\n",(0,a.jsx)(n.p,{children:"How would you need to change the reducer to make this work?"}),"\n",(0,a.jsx)(n.h3,{children:"3. \ud83d\udcaf simulate setState with an object OR function"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://advanced-react-hooks.netlify.com/isolated/final/01.extra-3.js",children:"Production deploy"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"this.setState"})," from class components can also accept a function. So let's add\nsupport for that with our simulated ",(0,a.jsx)(n.code,{children:"setState"})," function. See if you can figure\nout how to make your reducer support both the object as in the last extra credit\nas well as a function callback:"]}),"\n",(0,a.jsx)(n.pre,{className:"language-javascript",children:(0,a.jsxs)(n.code,{className:"language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),"state",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," setState",(0,a.jsx)(n.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"React"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token method function property-access",children:"useReducer"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"countReducer",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token literal-property property",children:"count"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," initialCount",(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"count",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," state\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"increment"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"}),"\n  ",(0,a.jsx)(n.span,{className:"token function",children:"setState"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token parameter",children:"currentState"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token literal-property property",children:"count"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," currentState",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token property-access",children:"count"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"+"})," step",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})}),"\n",(0,a.jsx)(n.h3,{children:"4. \ud83d\udcaf traditional dispatch object with a type and switch statement"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://advanced-react-hooks.netlify.com/isolated/final/01.extra-4.js",children:"Production deploy"})}),"\n",(0,a.jsx)(n.p,{children:"Ok, now we can finally see what most people do conventionally (mostly thanks to\nredux). Update your reducer so I can do this:"}),"\n",(0,a.jsx)(n.pre,{className:"language-javascript",children:(0,a.jsxs)(n.code,{className:"language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),"state",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," dispatch",(0,a.jsx)(n.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"React"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token method function property-access",children:"useReducer"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"countReducer",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token literal-property property",children:"count"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," initialCount",(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"count",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," state\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"increment"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token function",children:"dispatch"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token literal-property property",children:"type"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'INCREMENT'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," step",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})}),"\n",(0,a.jsx)(n.h2,{children:"\ud83e\udd89 Other notes"}),"\n",(0,a.jsx)(n.h3,{children:"lazy initialization"}),"\n",(0,a.jsxs)(n.p,{children:["This one's not an extra credit, but ",(0,a.jsx)(n.em,{children:"sometimes"})," lazy initialization can be\nuseful, so here's how we'd do that with our original hook App:"]}),"\n",(0,a.jsx)(n.pre,{className:"language-javascript",children:(0,a.jsxs)(n.code,{className:"language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsx)(n.span,{className:"token function",children:"init"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token parameter",children:"initialStateFromProps"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword control-flow",children:"return"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token literal-property property",children:"pokemon"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token keyword null nil",children:"null"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token literal-property property",children:"loading"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token boolean",children:"false"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token literal-property property",children:"error"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token keyword null nil",children:"null"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token comment",children:"// ..."}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),"state",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," dispatch",(0,a.jsx)(n.span,{className:"token punctuation",children:"]"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"React"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token method function property-access",children:"useReducer"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"reducer",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," props",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token property-access",children:"initialState"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," init",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})}),"\n",(0,a.jsxs)(n.p,{children:["So, if you pass a third function argument to ",(0,a.jsx)(n.code,{children:"useReducer"}),", it passes the second\nargument to that function and uses the return value for the initial state."]}),"\n",(0,a.jsxs)(n.p,{children:["This could be useful if our ",(0,a.jsx)(n.code,{children:"init"})," function read into localStorage or something\nelse that we wouldn't want happening every re-render."]}),"\n",(0,a.jsxs)(n.h3,{children:["The full ",(0,a.jsx)(n.code,{children:"useReducer"})," API"]}),"\n",(0,a.jsxs)(n.p,{children:["If you're into TypeScript, here's some type definitions for ",(0,a.jsx)(n.code,{children:"useReducer"}),":"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Thanks to ",(0,a.jsx)(n.a,{href:"https://levelup.gitconnected.com/db1858d1fb9c",children:"Trey's blog post"})]}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Please don't spend too much time reading through this by the way!"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{className:"language-typescript",children:(0,a.jsxs)(n.code,{className:"language-typescript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:[(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Dispatch"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"A"}),(0,a.jsx)(n.span,{className:"token operator",children:">"})]})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"value",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"A"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"void"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:[(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"S"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"A"}),(0,a.jsx)(n.span,{className:"token operator",children:">"})]})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"prevState",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"S"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," action",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"A"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"S"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:[(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token operator",children:">>"})]})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"R"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:[(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token keyword",children:"infer"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"S"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token operator",children:">"})]}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"?"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"S"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"never"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:[(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerAction"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token operator",children:">>"})]})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"R"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:[(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),"\n  ",(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"infer"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"A"}),"\n",(0,a.jsx)(n.span,{className:"token operator",children:">"})]}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"?"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"A"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"never"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsxs)(n.span,{className:"token generic-function",children:[(0,a.jsx)(n.span,{className:"token function",children:"useReducer"}),(0,a.jsxs)(n.span,{className:"token generic class-name",children:[(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"I"}),(0,a.jsx)(n.span,{className:"token operator",children:">"})]})]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"\n  reducer",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  initializerArg",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"I"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"&"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"initializer"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"arg",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"I"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"&"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Dispatch"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerAction"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">>"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsxs)(n.span,{className:"token generic-function",children:[(0,a.jsx)(n.span,{className:"token function",children:"useReducer"}),(0,a.jsxs)(n.span,{className:"token generic class-name",children:[(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"I"}),(0,a.jsx)(n.span,{className:"token operator",children:">"})]})]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"\n  reducer",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  initializerArg",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"I"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"initializer"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"arg",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"I"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token arrow operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Dispatch"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerAction"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">>"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsxs)(n.span,{className:"token generic-function",children:[(0,a.jsx)(n.span,{className:"token function",children:"useReducer"}),(0,a.jsxs)(n.span,{className:"token generic class-name",children:[(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Reducer"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"any"}),(0,a.jsx)(n.span,{className:"token operator",children:">>"})]})]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"\n  reducer",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  initialState",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  initializer",(0,a.jsx)(n.span,{className:"token operator",children:"?"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token keyword nil",children:"undefined"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerState"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"Dispatch"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token maybe-class-name",children:"ReducerAction"}),(0,a.jsx)(n.span,{className:"token operator",children:"<"}),(0,a.jsx)(n.span,{className:"token constant",children:"R"}),(0,a.jsx)(n.span,{className:"token operator",children:">>"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n"]})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"useReducer"})," is pretty versatile. The key takeaway here is that while\nconventions are useful, understanding the API and its capabilities is more\nimportant."]}),"\n",(0,a.jsx)(n.h2,{children:"\ud83e\udd89 Feedback"}),"\n",(0,a.jsxs)(n.p,{children:["Fill out\n",(0,a.jsx)(n.a,{href:"https://ws.kcd.im/?ws=Advanced%20React%20Hooks%20%F0%9F%94%A5&e=01%3A%20useReducer%3A%20simple%20Counter&em=",children:"the feedback form"}),"."]})]})}n.default=function(e={}){const{wrapper:n}=e.components||{};return n?(0,a.jsx)(n,Object.assign({},e,{children:(0,a.jsx)(t,e)})):t(e)}},3238:function(e,n,s){var a=s(4519),t=Symbol.for("react.element"),c=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function i(e,n,s){var a,c={},i=null,p=null;for(a in void 0!==s&&(i=""+s),void 0!==n.key&&(i=""+n.key),void 0!==n.ref&&(p=n.ref),n)o.call(n,a)&&!r.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps)void 0===c[a]&&(c[a]=n[a]);return{$$typeof:t,type:e,key:i,ref:p,props:c,_owner:l.current}}n.Fragment=c,n.jsx=i,n.jsxs=i},2556:function(e,n,s){e.exports=s(3238)}}]);
//# sourceMappingURL=828.bbd7dde2.chunk.js.map