{"version":3,"file":"static/js/120.4ba1eb03.chunk.js","mappings":"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","sources":["final/03.extra-2.js","pokemon.js","utils.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js"],"sourcesContent":["// useContext: Caching response data in context\n// ðŸ’¯ caching in a context provider (final)\n// http://localhost:3000/isolated/final/03.extra-2.js\n\n// you can edit this here and look at the isolated page or you can copy/paste\n// this in the regular exercise file.\n\nimport * as React from 'react'\nimport {useAsync} from '../utils'\nimport {\n  fetchPokemon,\n  PokemonForm,\n  PokemonDataView,\n  PokemonInfoFallback,\n  PokemonErrorBoundary,\n} from '../pokemon'\n\nconst PokemonCacheContext = React.createContext()\n\nfunction pokemonCacheReducer(state, action) {\n  switch (action.type) {\n    case 'ADD_POKEMON': {\n      return {...state, [action.pokemonName]: action.pokemonData}\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`)\n    }\n  }\n}\n\nfunction PokemonCacheProvider(props) {\n  const [cache, dispatch] = React.useReducer(pokemonCacheReducer, {})\n  return <PokemonCacheContext.Provider value={[cache, dispatch]} {...props} />\n}\n\nfunction usePokemonCache() {\n  const context = React.useContext(PokemonCacheContext)\n  if (!context) {\n    throw new Error(\n      'usePokemonCache must be used within a PokemonCacheProvider',\n    )\n  }\n  return context\n}\n\nfunction PokemonInfo({pokemonName: externalPokemonName}) {\n  const [cache, dispatch] = usePokemonCache()\n  \n  const pokemonName = externalPokemonName?.toLowerCase()\n  const {data: pokemon, status, error, run, setData} = useAsync({\n    status: pokemonName ? 'pending' : 'idle',\n  })\n  \n  React.useEffect(() => {\n    if (!pokemonName) {\n      return\n    } else if (cache[pokemonName]) {\n      setData(cache[pokemonName])\n    } else {\n      run(\n        fetchPokemon(pokemonName).then(pokemonData => {\n          dispatch({type: 'ADD_POKEMON', pokemonName, pokemonData})\n          return pokemonData\n        }),\n      )\n    }\n  }, [cache, dispatch, pokemonName, run, setData])\n\n  if (status === 'idle') {\n    return 'Submit a pokemon'\n  } else if (status === 'pending') {\n    return <PokemonInfoFallback name={pokemonName} />\n  } else if (status === 'rejected') {\n    throw error\n  } else if (status === 'resolved') {\n    return <PokemonDataView pokemon={pokemon} />\n  }\n\n  throw new Error('This should be impossible')\n}\n\nfunction PreviousPokemon({onSelect}) {\n  const [cache] = usePokemonCache()\n  return (\n    <div>\n      Previous Pokemon\n      <ul style={{listStyle: 'none', paddingLeft: 0}}>\n        {Object.keys(cache).map(pokemonName => (\n          <li key={pokemonName} style={{margin: '4px auto'}}>\n            <button\n              style={{width: '100%'}}\n              onClick={() => onSelect(pokemonName)}\n            >\n              {pokemonName}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nfunction PokemonSection({onSelect, pokemonName}) {\n  return (\n    <PokemonCacheProvider>\n      <div style={{display: 'flex'}}>\n        <PreviousPokemon onSelect={onSelect} />\n        <div className=\"pokemon-info\">\n          <PokemonErrorBoundary\n            onReset={() => onSelect('')}\n            resetKeys={[pokemonName]}\n          >\n            <PokemonInfo pokemonName={pokemonName} />\n          </PokemonErrorBoundary>\n        </div>\n      </div>\n    </PokemonCacheProvider>\n  )\n}\n\nfunction App() {\n  const [pokemonName, setPokemonName] = React.useState(null)\n\n  function handleSubmit(newPokemonName) {\n    setPokemonName(newPokemonName)\n  }\n\n  function handleSelect(newPokemonName) {\n    setPokemonName(newPokemonName)\n  }\n\n  return (\n    <div className=\"pokemon-info-app\">\n      <PokemonForm pokemonName={pokemonName} onSubmit={handleSubmit} />\n      <hr />\n      <PokemonSection onSelect={handleSelect} pokemonName={pokemonName} />\n    </div>\n  )\n}\n\nexport default App\n","import * as React from 'react'\nimport {ErrorBoundary} from 'react-error-boundary'\n\nconst formatDate = date =>\n  `${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')} ${String(\n    date.getSeconds(),\n  ).padStart(2, '0')}.${String(date.getMilliseconds()).padStart(3, '0')}`\n\n// the delay argument is for faking things out a bit\nfunction fetchPokemon(name, delay = 1500) {\n  const pokemonQuery = `\n    query PokemonInfo($name: String) {\n      pokemon(name: $name) {\n        id\n        number\n        name\n        image\n        attacks {\n          special {\n            name\n            type\n            damage\n          }\n        }\n      }\n    }\n  `\n\n  return window\n    .fetch('https://graphql-pokemon2.vercel.app/', {\n      // learn more about this API here: https://graphql-pokemon2.vercel.app/\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json;charset=UTF-8',\n        delay: delay,\n      },\n      body: JSON.stringify({\n        query: pokemonQuery,\n        variables: {name: name.toLowerCase()},\n      }),\n    })\n    .then(async response => {\n      const {data} = await response.json()\n      if (response.ok) {\n        const pokemon = data?.pokemon\n        if (pokemon) {\n          pokemon.fetchedAt = formatDate(new Date())\n          return pokemon\n        } else {\n          return Promise.reject(new Error(`No pokemon with the name \"${name}\"`))\n        }\n      } else {\n        // handle the graphql errors\n        const error = {\n          message: data?.errors?.map(e => e.message).join('\\n'),\n        }\n        return Promise.reject(error)\n      }\n    })\n}\n\nfunction PokemonInfoFallback({name}) {\n  const initialName = React.useRef(name).current\n  const fallbackPokemonData = {\n    name: initialName,\n    number: 'XXX',\n    image: '/img/pokemon/fallback-pokemon.jpg',\n    attacks: {\n      special: [\n        {name: 'Loading Attack 1', type: 'Type', damage: 'XX'},\n        {name: 'Loading Attack 2', type: 'Type', damage: 'XX'},\n      ],\n    },\n    fetchedAt: 'loading...',\n  }\n  return <PokemonDataView pokemon={fallbackPokemonData} />\n}\n\nfunction PokemonDataView({pokemon}) {\n  return (\n    <div>\n      <div className=\"pokemon-info__img-wrapper\">\n        <img src={pokemon.image} alt={pokemon.name} />\n      </div>\n      <section>\n        <h2>\n          {pokemon.name}\n          <sup>{pokemon.number}</sup>\n        </h2>\n      </section>\n      <section>\n        <ul>\n          {pokemon.attacks.special.map(attack => (\n            <li key={attack.name}>\n              <label>{attack.name}</label>:{' '}\n              <span>\n                {attack.damage} <small>({attack.type})</small>\n              </span>\n            </li>\n          ))}\n        </ul>\n      </section>\n      <small className=\"pokemon-info__fetch-time\">{pokemon.fetchedAt}</small>\n    </div>\n  )\n}\n\nfunction PokemonForm({\n  pokemonName: externalPokemonName,\n  initialPokemonName = externalPokemonName || '',\n  onSubmit,\n}) {\n  const [pokemonName, setPokemonName] = React.useState(initialPokemonName)\n\n  // this is generally not a great idea. We're synchronizing state when it is\n  // normally better to derive it https://kentcdodds.com/blog/dont-sync-state-derive-it\n  // however, we're doing things this way to make it easier for the exercises\n  // to not have to worry about the logic for this PokemonForm component.\n  React.useEffect(() => {\n    // note that because it's a string value, if the externalPokemonName\n    // is the same as the one we're managing, this will not trigger a re-render\n    if (typeof externalPokemonName === 'string') {\n      setPokemonName(externalPokemonName)\n    }\n  }, [externalPokemonName])\n\n  function handleChange(e) {\n    setPokemonName(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onSubmit(pokemonName)\n  }\n\n  function handleSelect(newPokemonName) {\n    setPokemonName(newPokemonName)\n    onSubmit(newPokemonName)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"pokemon-form\">\n      <label htmlFor=\"pokemonName-input\">Pokemon Name</label>\n      <small>\n        Try{' '}\n        <button\n          className=\"invisible-button\"\n          type=\"button\"\n          onClick={() => handleSelect('pikachu')}\n        >\n          \"pikachu\"\n        </button>\n        {', '}\n        <button\n          className=\"invisible-button\"\n          type=\"button\"\n          onClick={() => handleSelect('charizard')}\n        >\n          \"charizard\"\n        </button>\n        {', or '}\n        <button\n          className=\"invisible-button\"\n          type=\"button\"\n          onClick={() => handleSelect('mew')}\n        >\n          \"mew\"\n        </button>\n      </small>\n      <div>\n        <input\n          className=\"pokemonName-input\"\n          id=\"pokemonName-input\"\n          name=\"pokemonName\"\n          placeholder=\"Pokemon Name...\"\n          value={pokemonName}\n          onChange={handleChange}\n        />\n        <button type=\"submit\" disabled={!pokemonName.length}>\n          Submit\n        </button>\n      </div>\n    </form>\n  )\n}\n\nfunction ErrorFallback({error, resetErrorBoundary}) {\n  return (\n    <div role=\"alert\">\n      There was an error:{' '}\n      <pre style={{whiteSpace: 'normal'}}>{error.message}</pre>\n      <button onClick={resetErrorBoundary}>Try again</button>\n    </div>\n  )\n}\n\nfunction PokemonErrorBoundary(props) {\n  return <ErrorBoundary FallbackComponent={ErrorFallback} {...props} />\n}\n\nexport {\n  PokemonInfoFallback,\n  PokemonForm,\n  PokemonDataView,\n  fetchPokemon,\n  PokemonErrorBoundary,\n}\n","import * as React from 'react'\n\nfunction useSafeDispatch(dispatch) {\n  const mounted = React.useRef(false)\n\n  React.useLayoutEffect(() => {\n    mounted.current = true\n    return () => {\n      mounted.current = false\n    }\n  }, [])\n\n  return React.useCallback(\n    (...args) => (mounted.current ? dispatch(...args) : void 0),\n    [dispatch],\n  )\n}\n\nfunction asyncReducer(state, action) {\n  switch (action.type) {\n    case 'pending': {\n      return {status: 'pending', data: null, error: null}\n    }\n    case 'resolved': {\n      return {status: 'resolved', data: action.data, error: null}\n    }\n    case 'rejected': {\n      return {status: 'rejected', data: null, error: action.error}\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`)\n    }\n  }\n}\n\nfunction useAsync(initialState) {\n  const [state, unsafeDispatch] = React.useReducer(asyncReducer, {\n    status: 'idle',\n    data: null,\n    error: null,\n    ...initialState,\n  })\n\n  const dispatch = useSafeDispatch(unsafeDispatch)\n\n  const {data, error, status} = state\n\n  const run = React.useCallback(\n    promise => {\n      dispatch({type: 'pending'})\n      promise.then(\n        data => {\n          dispatch({type: 'resolved', data})\n        },\n        error => {\n          dispatch({type: 'rejected', error})\n        },\n      )\n    },\n    [dispatch],\n  )\n\n  const setData = React.useCallback(\n    data => dispatch({type: 'resolved', data}),\n    [dispatch],\n  )\n  const setError = React.useCallback(\n    error => dispatch({type: 'rejected', error}),\n    [dispatch],\n  )\n\n  return {\n    setData,\n    setError,\n    error,\n    status,\n    data,\n    run,\n  }\n}\n\nexport {useAsync}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n"],"names":["PokemonCacheContext","React","pokemonCacheReducer","state","action","type","pokemonName","pokemonData","Error","PokemonCacheProvider","props","cache","dispatch","Provider","value","usePokemonCache","context","PokemonInfo","externalPokemonName","toLowerCase","useAsync","status","pokemon","data","error","run","setData","fetchPokemon","then","name","PreviousPokemon","onSelect","style","listStyle","paddingLeft","Object","keys","map","margin","width","onClick","PokemonSection","display","className","onReset","resetKeys","setPokemonName","onSubmit","newPokemonName","formatDate","date","getHours","String","getMinutes","padStart","getSeconds","getMilliseconds","delay","pokemonQuery","window","fetch","method","headers","body","JSON","stringify","query","variables","response","json","ok","fetchedAt","Date","Promise","reject","message","errors","e","join","PokemonInfoFallback","fallbackPokemonData","current","number","image","attacks","special","damage","PokemonDataView","src","alt","attack","PokemonForm","initialPokemonName","handleSelect","preventDefault","htmlFor","id","placeholder","onChange","target","disabled","length","ErrorFallback","resetErrorBoundary","role","whiteSpace","PokemonErrorBoundary","ErrorBoundary","FallbackComponent","asyncReducer","initialState","mounted","useSafeDispatch","promise","setError","f","require","k","Symbol","l","m","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","h","call","defaultProps","$$typeof","_owner","exports","Fragment","jsx","jsxs","module"],"sourceRoot":""}